%% High-level relationships remain for context
classDiagram
    class TestController {
        run_tests()
        queue: TestQueue
    }
    class MovementTest {
        provide_steps()
    }
    class MovementStepHandler {
        capture_player_position()
        send_move_event()
        verify_player_moved()
    }
    class TestStep {
        <<trait>>
    }
    class CapturePlayerPosition {
        <<event>>
    }
    class UnfinishedSteps {
        <<resource>>
        increase()
        decrease()
    }

    TestController --> MovementTest
    TestController --> CapturePlayerPosition
    CapturePlayerPosition --|> TestStep
    CapturePlayerPosition ..> MovementStepHandler
    MovementStepHandler --> UnfinishedSteps
