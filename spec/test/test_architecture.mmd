%% High-level relationships remain for context
classDiagram
    direction TB
    class TestController {
        run_tests()
        queue: TestQueue
    }
    class MovementTest {
        provide_steps()
        handle_capture_player_position()
        handle_move_player()
        handle_verify_player_moved()
    }
    class TestStep {
        <<trait>>
    }
    class CapturePlayerPosition {
        <<event>>
    }
    class MovePlayer {
        <<event>>
    }
    class VerifyPlayerMoved {
        <<event>>
    }
    class UnfinishedSteps {
        <<resource>>
        decrease()
    }

    TestController --> MovementTest
    TestController --> CapturePlayerPosition
    TestStep <|-- CapturePlayerPosition
    TestStep <|-- MovePlayer
    TestStep <|-- VerifyPlayerMoved
    CapturePlayerPosition ..> MovementTest
    MovePlayer ..> MovementTest
    VerifyPlayerMoved ..> MovementTest
    MovementTest --> UnfinishedSteps
